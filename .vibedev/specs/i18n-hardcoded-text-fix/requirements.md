# 国际化硬编码文本修复需求文档

## 功能概述

本功能旨在彻底解决长截图分割工具中英语语言切换不完全的问题。当前系统存在硬编码的中文文本，导致用户切换到英语后，部分界面文本仍然显示为中文，影响用户体验。需要建立完善的国际化检查机制，确保所有文本都能正确切换。

## 需求列表

### 1. 硬编码文本识别与修复

**用户故事**: 作为国际用户，我希望切换到英语后所有界面文本都显示为英语，这样我能够完全理解和使用应用程序。

**验收标准**:
1. 系统应当识别出所有存在硬编码中文文本的组件文件
2. 系统应当将所有硬编码文本替换为国际化函数调用
3. 系统应当确保所有硬编码文本在英文语言包中都有对应的翻译
4. 系统应当验证切换语言后，所有文本都能正确显示对应语言版本

### 2. 切片预览界面文本国际化

**用户故事**: 作为用户，我希望在切片预览界面看到的所有文本都能根据我选择的语言正确显示，这样我能够理解每个功能的作用。

**验收标准**:
1. "切片预览 (X个)" 文本应当使用国际化函数，支持动态数量显示
2. "点击切片进行选择，选中的切片将用于导出" 提示文本应当完全国际化
3. 切换到英语后，这些文本应当显示为对应的英文版本
4. 文本格式和样式应当保持一致，不因语言切换而改变

### 3. 导航按钮文本国际化验证

**用户故事**: 作为用户，我希望导航栏中的所有按钮文本都能正确切换语言，这样我能够清楚地知道每个按钮的功能。

**验收标准**:
1. 首页、上传、分割、导出按钮文本应当完全使用国际化系统
2. 按钮文本应当在语言切换时立即更新，无需刷新页面
3. 按钮的无障碍访问标签也应当正确国际化
4. 所有按钮状态（激活、禁用等）的提示文本都应当国际化

### 4. 测试覆盖率与实际效果一致性

**用户故事**: 作为开发者，我希望测试用例能够真实反映国际化的实际效果，这样我能够及时发现和修复国际化问题。

**验收标准**:
1. 测试用例应当验证实际渲染的文本内容，而不仅仅是函数调用
2. 测试应当模拟真实的语言切换场景，验证DOM中的文本变化
3. 测试应当覆盖所有可能出现文本的组件和状态
4. 测试失败时应当明确指出哪些文本没有正确国际化

### 5. 国际化质量保证机制

**用户故事**: 作为项目维护者，我希望建立机制防止未来出现新的硬编码文本，这样我能够确保国际化质量的持续性。

**验收标准**:
1. 系统应当提供工具或脚本来检测项目中的硬编码中文文本
2. 系统应当在构建过程中自动检查国际化完整性
3. 系统应当提供开发指南，说明如何正确使用国际化系统
4. 系统应当在代码审查阶段提供检查清单，确保新代码符合国际化要求

### 6. 语言包完整性验证

**用户故事**: 作为用户，我希望切换到任何支持的语言后都不会看到缺失的翻译或错误的文本，这样我能够获得一致的用户体验。

**验收标准**:
1. 系统应当验证所有语言包中的键值对完整性
2. 系统应当检查是否存在只在某种语言中定义的文本键
3. 系统应当验证带参数的文本模板在所有语言中都正确工作
4. 系统应当提供缺失翻译的明确错误提示，而不是显示键名

### 7. 动态文本国际化

**用户故事**: 作为用户，我希望包含动态内容的文本（如数量、状态等）也能正确国际化，这样我能够看到符合我语言习惯的表达方式。

**验收标准**:
1. 包含变量的文本模板应当在所有语言中正确渲染
2. 数量相关的文本应当考虑不同语言的复数规则
3. 日期、时间、数字格式应当根据语言环境正确显示
4. 动态生成的提示信息应当完全国际化

## 技术约束

- 必须保持现有的国际化架构（useI18nContext, t函数等）
- 不能破坏现有的功能和用户体验
- 修复过程中不能引入新的性能问题
- 必须保持代码的可维护性和可读性

## 成功标准

- 用户切换到英语后，界面上100%的文本都显示为英语
- 所有自动化测试通过，且能真实反映国际化效果
- 建立了有效的国际化质量保证机制
- 提供了完整的开发文档和最佳实践指南